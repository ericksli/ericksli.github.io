<!doctype html><html lang=zh-tw dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Posts | EricLog</title>
<meta name=keywords content><meta name=description content="Posts - EricLog"><meta name=author content><link rel=canonical href=https://eric.swiftzer.net/posts/><link crossorigin=anonymous href=/assets/css/stylesheet.6af4cf50660ceaa7cb5315be4c4bf349a5f8e72eee8939bab4dd32dcf0378f25.css integrity="sha256-avTPUGYM6qfLUxW+TEvzSaX45y7uiTm6tN0y3PA3jyU=" rel="preload stylesheet" as=style><link rel=icon href=https://eric.swiftzer.net/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://eric.swiftzer.net/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://eric.swiftzer.net/favicon-32x32.png><link rel=apple-touch-icon href=https://eric.swiftzer.net/apple-touch-icon.png><link rel=mask-icon href=https://eric.swiftzer.net/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://eric.swiftzer.net/posts/index.xml><link rel=alternate hreflang=zh-tw href=https://eric.swiftzer.net/posts/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=preconnect href=https://fonts.gstatic.com><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=JetBrains+Mono:wght@300&display=swap" rel=stylesheet><script async src="https://www.googletagmanager.com/gtag/js?id=G-D93F946T73"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-D93F946T73")}</script><meta property="og:url" content="https://eric.swiftzer.net/posts/"><meta property="og:site_name" content="EricLog"><meta property="og:title" content="Posts"><meta property="og:locale" content="zh-tw"><meta property="og:type" content="website"><meta name=twitter:card content="summary"><meta name=twitter:title content="Posts"><meta name=twitter:description content><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://eric.swiftzer.net/posts/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://eric.swiftzer.net/ accesskey=h title="EricLog (Alt + H)">EricLog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://eric.swiftzer.net/fonts/ title=Fonts><span>Fonts</span></a></li><li><a href=https://eric.swiftzer.net/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://eric.swiftzer.net/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://eric.swiftzer.net/about/ title=About><span>About</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://eric.swiftzer.net/>首頁</a></div><h1>Posts</h1></header><article class=post-entry><figure class=entry-cover><img loading=lazy srcset="https://eric.swiftzer.net/2024/11/missing-parts-when-designing-and-implementing-android-ui/cover_hu17853681208592596241.jpg 360w ,https://eric.swiftzer.net/2024/11/missing-parts-when-designing-and-implementing-android-ui/cover_hu13785101827459978169.jpg 480w ,https://eric.swiftzer.net/2024/11/missing-parts-when-designing-and-implementing-android-ui/cover_hu1793425754606146662.jpg 720w ,https://eric.swiftzer.net/2024/11/missing-parts-when-designing-and-implementing-android-ui/cover.jpg 960w" sizes="(min-width: 768px) 720px, 100vw" src=https://eric.swiftzer.net/2024/11/missing-parts-when-designing-and-implementing-android-ui/cover.jpg alt="Missing parts when designing and implementing Android UI" width=960 height=540></figure><header class=entry-header><h2 class=entry-hint-parent>Missing parts when designing and implementing Android UI</h2></header><div class=entry-content><p>昨天出席了 GDG Hong Kong 舉辦的 DevFest 2024 Hong Kong 並分享了「Missing parts when designing and implementing Android UI」。
這個題目大致分為三個部分：
一般在準備 Figma mockup 及由 mockup 實作成 Android app UI 時的常見問題，並以一 Figma Community 免費範本作例子 Jetpack Compose accessibility Jetpack Compose UI testing，示範 Compose testing 搭配 Robolectric 及支援 Appium 的貼士 ...</p></div><footer class=entry-footer><span title='2024-11-24 15:20:00 +0800 +0800'>November 24, 2024</span></footer><a class=entry-link aria-label="post link to Missing parts when designing and implementing Android UI" href=https://eric.swiftzer.net/2024/11/missing-parts-when-designing-and-implementing-android-ui/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>AndroidX Navigation component for Jetpack Compose type safety</h2></header><div class=entry-content><p>AndroidX Navigation component 是 Google 推出的 single Activity app navigation library。本身是用 Fragment 來做每一頁的內容，然後再用新的 Android resource type——navigation 來定義 navigation graph（即是聲明一個 navigation graph 內有什麼 Fragment、打開 Fragment 時要什麼參數和各 Fragment 之間如何導覽的 XML 檔案）。如果加上 Safe Args Gradle plugin 的話就會按 navigation graph XML 檔案生成那些 Java code 去讓你在 Fragment 內轉頁時調用，那就不會怕轉頁時漏了幾個參數沒有傳到，因為漏了的話就不能成功 compile。
...</p></div><footer class=entry-footer><span title='2024-08-18 22:00:00 +0800 +0800'>August 18, 2024</span></footer><a class=entry-link aria-label="post link to AndroidX Navigation component for Jetpack Compose type safety" href=https://eric.swiftzer.net/2024/08/androidx-navigation-compose-type-safety/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Firebase Cloud Messaging legacy API</h2></header><div class=entry-content><p>如果有用 Firebase Cloud Messaging (FCM) 或者其他關於 FCM 的第三方 SDK 的話應該會收到通知說 6 月 21 日會停用舊版的 FCM API（即是供 server 發送 notification 那個 API endpoint）。之後就要轉用 HTTP v1 API。
...</p></div><footer class=entry-footer><span title='2024-06-01 14:00:00 +0800 +0800'>June 1, 2024</span></footer><a class=entry-link aria-label="post link to Firebase Cloud Messaging legacy API" href=https://eric.swiftzer.net/2024/06/firebase-cloud-messaging-legacy-api/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Android WebView 筆記</h2></header><div class=entry-content><p>好幾年都沒有特別去用 Android 的 WebView，近期工作需要用到 WebView，所以特別去查一下並將資料放在這篇文章內方便日後翻查。
AndroidX WebKit AndroidX 其實有 WebKit 的 artifact androidx.webkit:webkit，但不是把整個 browser 加到 app 入面（WebView 實際在用的 web browser 是由 Google Play Store 提供，並可以 developer options 切換），而是把部分較新的 WebView 功能加個檢查 function，如果目前的 WebView 支援那個功能的話就可以執行這部分的 code。
...</p></div><footer class=entry-footer><span title='2024-02-24 11:45:00 +0800 +0800'>February 24, 2024</span></footer><a class=entry-link aria-label="post link to Android WebView 筆記" href=https://eric.swiftzer.net/2024/02/android-webview/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Android 14 migration</h2></header><div class=entry-content><p>最近把 MetroRide 的 API level 升到 34 (Android 14)，中間發現了一些問題，在這裏記錄一下。
Foreground service MetroRide 有用到 AndroidX WorkManager 來下載離線資料並放到 SQLite database 內，而且開了 foreground service。在 Android 14 規定要加 permission FOREGROUND_SERVICE_DATA_SYNC 標明 foreground service 的目的。
...</p></div><footer class=entry-footer><span title='2024-02-02 00:05:00 +0800 +0800'>February 2, 2024</span></footer><a class=entry-link aria-label="post link to Android 14 migration" href=https://eric.swiftzer.net/2024/02/android-14-migration/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Android pseudolocale</h2></header><div class=entry-content><p>在處理 app UI 多國語言時，我們不時要留意是不是預留了足夠空間來顯示文字。一般而言，中文內容通常都比其他語言短，你的 UI 可能看起來沒有問題，但換到其他寫得比較長的語言就可能不夠位顯示。但在開發初期可能還未開始翻譯，只有英文版，未必能在早期察覺這個問題。
...</p></div><footer class=entry-footer><span title='2023-07-14 23:40:00 +0800 +0800'>July 14, 2023</span></footer><a class=entry-link aria-label="post link to Android pseudolocale" href=https://eric.swiftzer.net/2023/07/android-pseudolocale/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Android 13 Per-app Language Preferences</h2></header><div class=entry-content><p>最近抽點時間把 MetroRide 參照 Now in Android 示範項目更新一下，例如改用 TOML 版的 version catalog（之前是用 Kotlin DSL）、轉用 includeBuild 加 convention plugin 取代之前把 plugin 放在 buildSrc 內、更新 dependency 版本和把 target SDK 升到最新（即是 Android 13；API level 33）。這次想分享的是適配 Android 13 的 per-app language preferences（個別應用程式語言偏好）功能。
...</p></div><footer class=entry-footer><span title='2023-01-25 14:27:00 +0800 +0800'>January 25, 2023</span></footer><a class=entry-link aria-label="post link to Android 13 Per-app Language Preferences" href=https://eric.swiftzer.net/2023/01/android-13-per-app-language-preferences/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Jetpack Compose Navigation component sub-graph</h2></header><div class=entry-content><p>這次遷移到 Compose 時特別花了時間試用 Compose 的 Navigation component，終於弄清 nested graph 的意義。其實 Compose 的 Navigation component 底層都是跟 XML 版的 Navigation component 一樣，只是底層多了以 route 形式的處理。以往的說明文件在介紹 nested navigation graph 時沒有太具體說明 nested graph 背後的意義，看完之後可能覺得只是用來避免單一 XML 檔過長而拆成不同 sub-graph。但其實在 deep link 時是有特別意義。
...</p></div><footer class=entry-footer><span title='2022-07-27 21:30:00 +0800 +0800'>July 27, 2022</span></footer><a class=entry-link aria-label="post link to Jetpack Compose Navigation component sub-graph" href=https://eric.swiftzer.net/2022/07/jetpack-compose-navigation-component-sub-graph/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Jetpack Compose 遷移 (2)</h2></header><div class=entry-content><p>上一篇提過如何將 MetroRide 由傳統 view system 遷移到 Jetpack Compose。但一篇又太長，所以分拆成兩篇。
Dependency injection 按照官方的建議，composable function 要用到的 dependency 應該由 caller 經參數提供。然後就是由外層一直傳進去。至於那個外層最遠可以去到 Activity 或者 Fragment。由於 composable function 就是 top-level function，沒有 class 包住，所以平常用開的 Dagger 或者 Koin 之類的 DI library 都無辦法輕易地在 composable function 經 DI 拿到 dependency。如果以 Dagger Hilt 來計，目前是有這幾種方式：
...</p></div><footer class=entry-footer><span title='2022-07-26 14:00:00 +0800 +0800'>July 26, 2022</span></footer><a class=entry-link aria-label="post link to Jetpack Compose 遷移 (2)" href=https://eric.swiftzer.net/2022/07/jetpack-compose-migration-2/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Jetpack Compose 遷移 (1)</h2></header><div class=entry-content><p>近幾個月斷斷續續替 MetroRide 的界面由傳統 view system（即是 layout XML）轉為 Jetpack Compose，順帶補上去年參加 iThome 鐵人賽時用來做示範的重鐵抵站時間功能。昨天新版 app 上架了就來分享一下遷移過程。其實這個 app 在之前的版本有把其中一頁靜態的頁面（延誤定義）改用 Compose，那時是在 Fragment 內的 onCreateView 加入 setContent 顯示 Compose 內容。由於那時只是做排版，沒有遇到大問題。之後開始慢慢轉用 Compose 才遇到問題。
...</p></div><footer class=entry-footer><span title='2022-07-24 14:06:00 +0800 +0800'>July 24, 2022</span></footer><a class=entry-link aria-label="post link to Jetpack Compose 遷移 (1)" href=https://eric.swiftzer.net/2022/07/jetpack-compose-migration-1/></a></article><footer class=page-footer><nav class=pagination><a class=next href=https://eric.swiftzer.net/posts/page/2/>下一頁&nbsp;&nbsp;»</a></nav></footer></main><footer class=footer><span>&copy; 2025 <a href=https://eric.swiftzer.net/>EricLog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>