<!doctype html><html lang=zh-tw dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Flipper 在 Android 15 裝置上無法啟動 app | EricLog</title>
<meta name=keywords content="Android,React Native"><meta name=description content="Flipper 是 Facebook 出品的 React Native debugger（不是 React Native 的 app 都可以用），前身是 Stetho，之前都有介紹過。界面由 Stetho 時期借用 Chrome Developer Tools 到 Flipper 有 Electron desktop app 再演變到 localhost 的 web app，功能都是讓你查看 logcat、HTTP request/response、shared preferences、SQLite database、UI layout 等等。"><meta name=author content><link rel=canonical href=https://eric.swiftzer.net/2025/03/flipper-android-15/><link crossorigin=anonymous href=/assets/css/stylesheet.6af4cf50660ceaa7cb5315be4c4bf349a5f8e72eee8939bab4dd32dcf0378f25.css integrity="sha256-avTPUGYM6qfLUxW+TEvzSaX45y7uiTm6tN0y3PA3jyU=" rel="preload stylesheet" as=style><link rel=icon href=https://eric.swiftzer.net/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://eric.swiftzer.net/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://eric.swiftzer.net/favicon-32x32.png><link rel=apple-touch-icon href=https://eric.swiftzer.net/apple-touch-icon.png><link rel=mask-icon href=https://eric.swiftzer.net/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=zh-tw href=https://eric.swiftzer.net/2025/03/flipper-android-15/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=preconnect href=https://fonts.gstatic.com><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=JetBrains+Mono:wght@300&display=swap" rel=stylesheet><script async src="https://www.googletagmanager.com/gtag/js?id=G-D93F946T73"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-D93F946T73")}</script><meta property="og:url" content="https://eric.swiftzer.net/2025/03/flipper-android-15/"><meta property="og:site_name" content="EricLog"><meta property="og:title" content="Flipper 在 Android 15 裝置上無法啟動 app"><meta property="og:description" content="Flipper 是 Facebook 出品的 React Native debugger（不是 React Native 的 app 都可以用），前身是 Stetho，之前都有介紹過。界面由 Stetho 時期借用 Chrome Developer Tools 到 Flipper 有 Electron desktop app 再演變到 localhost 的 web app，功能都是讓你查看 logcat、HTTP request/response、shared preferences、SQLite database、UI layout 等等。"><meta property="og:locale" content="zh-tw"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-03-05T12:40:00+08:00"><meta property="article:modified_time" content="2025-03-05T12:40:00+08:00"><meta property="article:tag" content="Android"><meta property="article:tag" content="React Native"><meta name=twitter:card content="summary"><meta name=twitter:title content="Flipper 在 Android 15 裝置上無法啟動 app"><meta name=twitter:description content="Flipper 是 Facebook 出品的 React Native debugger（不是 React Native 的 app 都可以用），前身是 Stetho，之前都有介紹過。界面由 Stetho 時期借用 Chrome Developer Tools 到 Flipper 有 Electron desktop app 再演變到 localhost 的 web app，功能都是讓你查看 logcat、HTTP request/response、shared preferences、SQLite database、UI layout 等等。"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://eric.swiftzer.net/posts/"},{"@type":"ListItem","position":2,"name":"Flipper 在 Android 15 裝置上無法啟動 app","item":"https://eric.swiftzer.net/2025/03/flipper-android-15/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Flipper 在 Android 15 裝置上無法啟動 app","name":"Flipper 在 Android 15 裝置上無法啟動 app","description":"Flipper 是 Facebook 出品的 React Native debugger（不是 React Native 的 app 都可以用），前身是 Stetho，之前都有介紹過。界面由 Stetho 時期借用 Chrome Developer Tools 到 Flipper 有 Electron desktop app 再演變到 localhost 的 web app，功能都是讓你查看 logcat、HTTP request/response、shared preferences、SQLite database、UI layout 等等。\n","keywords":["Android","React Native"],"articleBody":"Flipper 是 Facebook 出品的 React Native debugger（不是 React Native 的 app 都可以用），前身是 Stetho，之前都有介紹過。界面由 Stetho 時期借用 Chrome Developer Tools 到 Flipper 有 Electron desktop app 再演變到 localhost 的 web app，功能都是讓你查看 logcat、HTTP request/response、shared preferences、SQLite database、UI layout 等等。\n如果在 app target Android 15 後用 Android 15 的裝置一打開 app 就出現下面那種 crash 的話，不用擔心，只需要升級一下 dependency 就可以了。\nE FATAL EXCEPTION: FlipperEventBaseThread Process: net.swiftzer.metroride.dev, PID: 8402 java.lang.UnsatisfiedLinkError: dlopen failed: empty/missing DT_STRTAB in \"/data/app/~~1297Du5FiuE_QM7YrEF_zw==/net.swiftzer.metroride.dev-tu0kr-SEfZDkaugyqnDnng==/base.apk!/lib/x86_64/libfbjni.so\" at java.lang.Runtime.loadLibrary0(Runtime.java:1081) at java.lang.Runtime.loadLibrary0(Runtime.java:1003) at java.lang.System.loadLibrary(System.java:1765) at com.facebook.soloader.nativeloader.SystemDelegate.loadLibrary(SystemDelegate.java:24) at com.facebook.soloader.nativeloader.NativeLoader.loadLibrary(NativeLoader.java:52) at com.facebook.soloader.nativeloader.NativeLoader.loadLibrary(NativeLoader.java:30) at com.facebook.jni.HybridData.(HybridData.java:34) at com.facebook.flipper.android.FlipperThread.run(FlipperThread.java:25) E FATAL EXCEPTION: FlipperConnectionThread Process: net.swiftzer.metroride.dev, PID: 8402 java.lang.NoClassDefFoundError: failed for class com.facebook.flipper.android.EventBase; see exception in other thread at com.facebook.flipper.android.FlipperThread.run(FlipperThread.java:25) com.facebook.flipper:flipper 在 2024 年 11 月 21 日推出了最後一個版本 0.273.0。這個版本的 Maven POM 依賴了 com.facebook.fbjni:fbjni:0.3.0 和 com.facebook.soloader:soloader:0.10.4。上面那個 stacktrace 就是因為 libfbjni.so 這個 native library 沒有因應 Android 15 改用 16 KB page size 而重新 build 過導致。要解決這個問題，只需要另外在 build.gradle 或 build.gradle.kts 特別聲明用最新版的 com.facebook.fbjni:fbjni:0.7.0 和 com.facebook.soloader:soloader:0.12.1 就可以了。因為新版的 fbjni 已經用 NDK 27 重新 build 過，而 React Native 都依賴 fbjni，所以應該不用太擔心它很快會被 Facebook 廢棄。\nFlipper 現在已經被廢棄了，我自己的 side project 都因為 target Android 15 時發現 app crash 而移除 Flipper。因為我的 side project 已經轉用 Compose，所以從 Flipper 那邊只會看到 ComposeView，詳細的 composable function hierarchy 還是要用 Android Studio 看。Shared preferences 都改用 AndroidX DataStore 所以亦用不上 Flipper。其餘功能用 Android Studio 內置的工具大致上都做到。但如果去到規模大一些的 app，尤其是有點歷史的 app 我還是覺得 Flipper 比較方便。例如 layout 可以看到 Activity/Fragment class 名，不用特別花時間等 IDE 載入 layout 就能查到。對於有大量 Activity/Fragment 的 app 來講始終是最方便。尤其是你對 code base 不夠熟，只要打開那個頁面再查一下那個 view hierarchy 就能收窄檢查範圍。另一個最常用的功能是查看 HTTP request/response，這個惟有轉用 proxy server（例如之前介紹過的 Whistle）來看。\n","wordCount":"754","inLanguage":"zh-tw","datePublished":"2025-03-05T12:40:00+08:00","dateModified":"2025-03-05T12:40:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://eric.swiftzer.net/2025/03/flipper-android-15/"},"publisher":{"@type":"Organization","name":"EricLog","logo":{"@type":"ImageObject","url":"https://eric.swiftzer.net/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://eric.swiftzer.net/ accesskey=h title="EricLog (Alt + H)">EricLog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://eric.swiftzer.net/fonts/ title=Fonts><span>Fonts</span></a></li><li><a href=https://eric.swiftzer.net/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://eric.swiftzer.net/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://eric.swiftzer.net/about/ title=About><span>About</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://eric.swiftzer.net/>首頁</a>&nbsp;»&nbsp;<a href=https://eric.swiftzer.net/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Flipper 在 Android 15 裝置上無法啟動 app</h1><div class=post-meta><span title='2025-03-05 12:40:00 +0800 +0800'>March 5, 2025</span></div></header><div class=post-content><p><a href=https://fbflipper.com/>Flipper</a> 是 Facebook 出品的 React Native debugger（不是 React Native 的 app 都可以用），前身是 <a href=https://facebook.github.io/stetho/>Stetho</a>，<a href=https://eric.swiftzer.net/2021/09/2021-ithome-ironman-14-flipper/>之前都有介紹過</a>。界面由 Stetho 時期借用 Chrome Developer Tools 到 Flipper 有 Electron desktop app 再演變到 localhost 的 web app，功能都是讓你查看 logcat、HTTP request/response、shared preferences、SQLite database、UI layout 等等。</p><p>如果在 app target Android 15 後用 Android 15 的裝置一打開 app 就出現下面那種 crash 的話，不用擔心，只需要升級一下 dependency 就可以了。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>E  FATAL EXCEPTION: FlipperEventBaseThread
</span></span><span class=line><span class=cl>   Process: net.swiftzer.metroride.dev, PID: 8402
</span></span><span class=line><span class=cl>   java.lang.UnsatisfiedLinkError: dlopen failed: empty/missing DT_STRTAB in &#34;/data/app/~~1297Du5FiuE_QM7YrEF_zw==/net.swiftzer.metroride.dev-tu0kr-SEfZDkaugyqnDnng==/base.apk!/lib/x86_64/libfbjni.so&#34;
</span></span><span class=line><span class=cl>       at java.lang.Runtime.loadLibrary0(Runtime.java:1081)
</span></span><span class=line><span class=cl>       at java.lang.Runtime.loadLibrary0(Runtime.java:1003)
</span></span><span class=line><span class=cl>       at java.lang.System.loadLibrary(System.java:1765)
</span></span><span class=line><span class=cl>       at com.facebook.soloader.nativeloader.SystemDelegate.loadLibrary(SystemDelegate.java:24)
</span></span><span class=line><span class=cl>       at com.facebook.soloader.nativeloader.NativeLoader.loadLibrary(NativeLoader.java:52)
</span></span><span class=line><span class=cl>       at com.facebook.soloader.nativeloader.NativeLoader.loadLibrary(NativeLoader.java:30)
</span></span><span class=line><span class=cl>       at com.facebook.jni.HybridData.&lt;clinit&gt;(HybridData.java:34)
</span></span><span class=line><span class=cl>       at com.facebook.flipper.android.FlipperThread.run(FlipperThread.java:25)
</span></span><span class=line><span class=cl>E  FATAL EXCEPTION: FlipperConnectionThread
</span></span><span class=line><span class=cl>   Process: net.swiftzer.metroride.dev, PID: 8402
</span></span><span class=line><span class=cl>   java.lang.NoClassDefFoundError: &lt;clinit&gt; failed for class com.facebook.flipper.android.EventBase; see exception in other thread
</span></span><span class=line><span class=cl>       at com.facebook.flipper.android.FlipperThread.run(FlipperThread.java:25)
</span></span></code></pre></div><p><a href=https://mvnrepository.com/artifact/com.facebook.flipper/flipper><code>com.facebook.flipper:flipper</code></a> 在 2024 年 11 月 21 日推出了最後一個版本 <a href=https://mvnrepository.com/artifact/com.facebook.flipper/flipper/0.273.0>0.273.0</a>。這個版本的 Maven POM 依賴了 <a href=https://mvnrepository.com/artifact/com.facebook.fbjni/fbjni/0.3.0><code>com.facebook.fbjni:fbjni:0.3.0</code></a> 和 <a href=https://mvnrepository.com/artifact/com.facebook.soloader/soloader/0.10.4><code>com.facebook.soloader:soloader:0.10.4</code></a>。上面那個 stacktrace 就是因為 libfbjni.so 這個 native library 沒有因應 Android 15 改用 16 KB page size 而重新 build 過導致。要解決這個問題，只需要另外在 build.gradle 或 build.gradle.kts 特別聲明用最新版的 <a href=https://mvnrepository.com/artifact/com.facebook.fbjni/fbjni/0.7.0><code>com.facebook.fbjni:fbjni:0.7.0</code></a> 和 <a href=https://mvnrepository.com/artifact/com.facebook.soloader/soloader/0.12.1><code>com.facebook.soloader:soloader:0.12.1</code></a> 就可以了。因為<a href=https://github.com/facebookincubator/fbjni/releases/tag/v0.7.0>新版的 fbjni</a> 已經用 NDK 27 重新 build 過，而 <a href=https://mvnrepository.com/artifact/com.facebook.react/react-android/0.78.0>React Native 都依賴 fbjni</a>，所以應該不用太擔心它很快會被 Facebook 廢棄。</p><p>Flipper 現在已經被<a href=https://github.com/react-native-community/discussions-and-proposals/blob/main/proposals/0641-decoupling-flipper-from-react-native-core.md>廢棄</a>了，我自己的 side project 都因為 target Android 15 時發現 app crash 而移除 Flipper。因為我的 side project 已經轉用 Compose，所以從 Flipper 那邊只會看到 <code>ComposeView</code>，詳細的 composable function hierarchy 還是要用 Android Studio 看。Shared preferences 都改用 AndroidX DataStore 所以亦用不上 Flipper。其餘功能用 Android Studio 內置的工具大致上都做到。但如果去到規模大一些的 app，尤其是有點歷史的 app 我還是覺得 Flipper 比較方便。例如 layout 可以看到 <code>Activity</code>/<code>Fragment</code> class 名，不用特別花時間等 IDE 載入 layout 就能查到。對於有大量 <code>Activity</code>/<code>Fragment</code> 的 app 來講始終是最方便。尤其是你對 code base 不夠熟，只要打開那個頁面再查一下那個 view hierarchy 就能收窄檢查範圍。另一個最常用的功能是查看 HTTP request/response，這個惟有轉用 proxy server（例如之前介紹過的 <a href=https://eric.swiftzer.net/2021/10/2021-ithome-ironman-22-whistle-proxy/>Whistle</a>）來看。</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://eric.swiftzer.net/tags/android/>Android</a></li><li><a href=https://eric.swiftzer.net/tags/react-native/>React Native</a></li></ul><nav class=paginav><a class=prev href=https://eric.swiftzer.net/2025/05/androidx-room-kmp/><span class=title>« 上一頁</span><br><span>AndroidX Room KMP</span>
</a><a class=next href=https://eric.swiftzer.net/2025/02/amper-android-manifest-maxsdkversion/><span class=title>下一頁 »</span><br><span>Amper Android manifest maxSdkVersion</span></a></nav></footer><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//efilm.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></article></main><footer class=footer><span>&copy; 2025 <a href=https://eric.swiftzer.net/>EricLog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="複製";function s(){t.innerHTML="已複製！",setTimeout(()=>{t.innerHTML="複製"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>