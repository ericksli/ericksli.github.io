<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/"><channel><title>Firebase on EricLog</title><link>https://eric.swiftzer.net/tags/firebase/</link><description>Recent content in Firebase on EricLog</description><generator>Hugo -- 0.141.0</generator><language>zh-tw</language><lastBuildDate>Sat, 01 Jun 2024 14:00:00 +0800</lastBuildDate><atom:link href="https://eric.swiftzer.net/tags/firebase/index.xml" rel="self" type="application/rss+xml"/><item><title>Firebase Cloud Messaging legacy API</title><link>https://eric.swiftzer.net/2024/06/firebase-cloud-messaging-legacy-api/</link><pubDate>Sat, 01 Jun 2024 14:00:00 +0800</pubDate><guid>https://eric.swiftzer.net/2024/06/firebase-cloud-messaging-legacy-api/</guid><description>&lt;p>如果有用 Firebase Cloud Messaging (FCM) 或者其他關於 FCM 的第三方 SDK 的話應該會收到通知說 6 月 21 日會停用舊版的 FCM API（即是供 server 發送 notification 那個 API endpoint）。之後就要轉用 &lt;a href="https://firebase.google.com/docs/reference/fcm/rest/v1/projects.messages/send">HTTP v1 API&lt;/a>。&lt;/p></description></item><item><title>Firebase Crashlytics 的 CrashlyticsOrgIdException 解決方法</title><link>https://eric.swiftzer.net/2020/03/firebase-crashlyticsorgidexception/</link><pubDate>Sat, 14 Mar 2020 11:55:17 +0800</pubDate><guid>https://eric.swiftzer.net/2020/03/firebase-crashlyticsorgidexception/</guid><description>&lt;p>最近為自己的 app 加入 Firebase Crashlytics SDK beta（即是使用 Google 的 Firebase Crashlytics Gradle plugin 而不是用 Fabric 那個），但在 build release APK 時出現下面的錯誤：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-text" data-lang="text">&lt;span class="line">&lt;span class="cl">java.io.IOException: com.google.firebase.crashlytics.buildtools.exception.CrashlyticsOrgIdException: Could not fetch Crashlytics Org Id
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;gt; com.google.firebase.crashlytics.buildtools.exception.CrashlyticsOrgIdException: Could not fetch Crashlytics Org Id
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;gt; Could not fetch Crashlytics Org Id
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;gt; Unable to fetch Crashlytics Org Id using app id 1:731121766578:android:4e799392a2e62811
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>我的 app 是在 Firebase 開了兩個 project，一個是開發時用的，另一個是 production 用的。但只有 production 才有這個錯誤。如果把 release build 設為不上載 ProGuard/R8 mapping file 的話就不會有這個錯誤。&lt;/p></description></item><item><title>Firebase Cloud Messaging</title><link>https://eric.swiftzer.net/2020/02/firebase-cloud-messaging/</link><pubDate>Sat, 29 Feb 2020 14:07:18 +0800</pubDate><guid>https://eric.swiftzer.net/2020/02/firebase-cloud-messaging/</guid><description>&lt;p>最近工作需要做 Firebase Cloud Messaging (FCM) 整合，發現了向 Firebase API 直接送出 push 的 HTTP request 都可以生成不同種類的 message。&lt;/p>
&lt;p>如果要整合到 Android 的話，需要建立一個新的 &lt;code>Service&lt;/code> class 並繼承自 &lt;a href="https://firebase.google.com/docs/reference/android/com/google/firebase/messaging/FirebaseMessagingService">&lt;code>FirebaseMessagingService&lt;/code>&lt;/a>。這個 &lt;code>Service&lt;/code> 有一個叫 &lt;code>onMessageReceived&lt;/code> 的 callback method 來接收來自 FCM 的 push 和它的 payload。但原來不是所有的 push 都能被那個 callback 接到，要視乎 push 的種類和你的 app 當時在甚麼情況而定。&lt;/p></description></item></channel></rss>