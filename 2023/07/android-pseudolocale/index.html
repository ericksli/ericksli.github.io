<!doctype html><html lang=zh-tw dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Android pseudolocale | EricLog</title>
<meta name=keywords content="Android"><meta name=description content="在處理 app UI 多國語言時，我們不時要留意是不是預留了足夠空間來顯示文字。一般而言，中文內容通常都比其他語言短，你的 UI 可能看起來沒有問題，但換到其他寫得比較長的語言就可能不夠位顯示。但在開發初期可能還未開始翻譯，只有英文版，未必能在早期察覺這個問題。"><meta name=author content><link rel=canonical href=https://eric.swiftzer.net/2023/07/android-pseudolocale/><link crossorigin=anonymous href=/assets/css/stylesheet.90d199bcefc47701be1700bdf90111f08c9ec8cafb7121eac1388d2f16c2cb69.css integrity="sha256-kNGZvO/EdwG+FwC9+QER8IyeyMr7cSHqwTiNLxbCy2k=" rel="preload stylesheet" as=style><link rel=icon href=https://eric.swiftzer.net/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://eric.swiftzer.net/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://eric.swiftzer.net/favicon-32x32.png><link rel=apple-touch-icon href=https://eric.swiftzer.net/apple-touch-icon.png><link rel=mask-icon href=https://eric.swiftzer.net/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=zh-tw href=https://eric.swiftzer.net/2023/07/android-pseudolocale/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=preconnect href=https://fonts.gstatic.com><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=JetBrains+Mono:wght@300&display=swap" rel=stylesheet><script async src="https://www.googletagmanager.com/gtag/js?id=G-D93F946T73"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-D93F946T73")}</script><meta property="og:url" content="https://eric.swiftzer.net/2023/07/android-pseudolocale/"><meta property="og:site_name" content="EricLog"><meta property="og:title" content="Android pseudolocale"><meta property="og:description" content="在處理 app UI 多國語言時，我們不時要留意是不是預留了足夠空間來顯示文字。一般而言，中文內容通常都比其他語言短，你的 UI 可能看起來沒有問題，但換到其他寫得比較長的語言就可能不夠位顯示。但在開發初期可能還未開始翻譯，只有英文版，未必能在早期察覺這個問題。"><meta property="og:locale" content="zh-tw"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-07-14T23:40:00+08:00"><meta property="article:modified_time" content="2023-07-14T23:40:00+08:00"><meta property="article:tag" content="Android"><meta name=twitter:card content="summary"><meta name=twitter:title content="Android pseudolocale"><meta name=twitter:description content="在處理 app UI 多國語言時，我們不時要留意是不是預留了足夠空間來顯示文字。一般而言，中文內容通常都比其他語言短，你的 UI 可能看起來沒有問題，但換到其他寫得比較長的語言就可能不夠位顯示。但在開發初期可能還未開始翻譯，只有英文版，未必能在早期察覺這個問題。"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://eric.swiftzer.net/posts/"},{"@type":"ListItem","position":2,"name":"Android pseudolocale","item":"https://eric.swiftzer.net/2023/07/android-pseudolocale/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Android pseudolocale","name":"Android pseudolocale","description":"在處理 app UI 多國語言時，我們不時要留意是不是預留了足夠空間來顯示文字。一般而言，中文內容通常都比其他語言短，你的 UI 可能看起來沒有問題，但換到其他寫得比較長的語言就可能不夠位顯示。但在開發初期可能還未開始翻譯，只有英文版，未必能在早期察覺這個問題。\n","keywords":["Android"],"articleBody":"在處理 app UI 多國語言時，我們不時要留意是不是預留了足夠空間來顯示文字。一般而言，中文內容通常都比其他語言短，你的 UI 可能看起來沒有問題，但換到其他寫得比較長的語言就可能不夠位顯示。但在開發初期可能還未開始翻譯，只有英文版，未必能在早期察覺這個問題。\nAndroid SDK 其實有一個功能叫 pseudolocale，字面意思是假的地區設定。Android emulator 內置支援兩款 pseudolocale：en-XA 和 ar-XB，分別對應左至右和右至左語系。兩款 pseudolocale 都是用你的 app 的預設 string resource 加工而成。\nXA 就是把預設的 string resource 的英文字母換成有變音符號的字母再在最尾加上 one two three 之類的文字去加長整段字，作用是為了模擬 app UI 在較長的左至右語言的情況，看看會不會塞爆 UI；而 XB 就是把預設的 string resource 的英文字母反轉次序，同時亦會令界面變成右至左模式，這樣就可以模擬 app UI 在右至左語言的情況。由於兩個 pseudolocale 都是由預設的 string resource 衍生出來（理論是預設是用來放英文），所以加工後你都應該能看得懂，不會因為切換了 pseudolocale 而不懂得操作自己的 app。\n要啟用 pseudolocale，首先要在 project 的 build.gradle.kts 加入 resourceConfigurations 和在 build type 加入 isPseudoLocalesEnabled = true。\nandroid { defaultConfig { applicationId = \"net.swiftzer.metroride\" versionCode = 37 versionName = \"0.37.0\" // 限制 resource 的 locale 並加入 pseudolocale resourceConfigurations.addAll(listOf(\"en\", \"zh-rHK\", \"en-rXA\", \"ar-rXB\")) } buildTypes { getByName(\"debug\") { isDefault = true isDebuggable = true // 啟用 pseudolocale isPseudoLocalesEnabled = true } } } 上面的 code 除了加了 en-rXA 和 ar-rXB 外，還加了 en 和 zh-rHK。這是因為我的 app 只是準備了預設（英文）和香港中文。如果沒有加 resourceConfigurations 的話，你的 app 通常都會被加了一大堆不同語言的 resource 檔案（例如文字和圖片）。這是因為 appcompat 和其他 Android library 都會附帶了不同語言的 resource 檔案。如果你的 app 本身只支援數種語言，大可把其餘不支援的語言 resource 檔案在 build app 時清走，這樣就可以減少最終 app 的大小，而且如果你打算在 runtime 強行改變 app 語言的話這個設定是跑不掉的。\n加了 resourceConfigurations 限制後只剩下 default 和 zh-rHK 加了之後就轉去 emulator 設定。首先要啟用 Developer options，就是連按七次 Build number，直至看到「You are now a developer!」的 toast。啟用後要將 emulator 重新開機。\n之後就可以在平時設定系統語言的地方看到 XA 和 XB 的語言。把它們調到最前，然後 build app 並開啟 app 就能看到以 pseudolocale 形式顯示的 UI。這樣就可以開始逐頁檢查排版有沒有問題。\nAndroid 設定內的語言設定頁 在 XA 的情況 在 XB 的情況 當然，如果你的 app 本身有強行改 app locale 的話應該不能馬上就可以顯示到 pseudolocale，你可以參考下面的 code 來檢查當前系統 locale 來決定如果設定 app locale：\nval systemLocale = ConfigurationCompat .getLocales(Resources.getSystem().configuration)[0]!! when { systemLocale.language == \"en\" \u0026\u0026 systemLocale.country == \"XA\" -\u003e { // 這是 XA pseudolocale } systemLocale.language == \"ar\" \u0026\u0026 systemLocale.country == \"XB\" -\u003e { // 這是 XB pseudolocale } } 試完後，緊記在 release build 拿走 pseudolocale，否則上載到 Google Play Console 會覺得你的 app 會支援阿拉伯文。（除非你的 app 本身真的是支援阿拉伯文）\nandroid { buildTypes { getByName(\"release\") { isPseudoLocalesEnabled = false defaultConfig { resourceConfigurations.removeAll(setOf(\"en-rXA\", \"ar-rXB\")) } } } } 不應改變的 string resource 由於 pseudolocale 會改變你的 string resource 內容，如果某些 string resource 被改動的話會導致 app crash，令你不能看到 UI。這種情況通常會在日期時間格式出現。要避免因為開了 pseudolocale 而令到 app crash，可以在相關的 string resource 加入 translatable=\"false\"，這樣在開了 pseudolocale 後這些 string resource 都不會被改變。\n","wordCount":"1277","inLanguage":"zh-tw","datePublished":"2023-07-14T23:40:00+08:00","dateModified":"2023-07-14T23:40:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://eric.swiftzer.net/2023/07/android-pseudolocale/"},"publisher":{"@type":"Organization","name":"EricLog","logo":{"@type":"ImageObject","url":"https://eric.swiftzer.net/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://eric.swiftzer.net/ accesskey=h title="EricLog (Alt + H)">EricLog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://eric.swiftzer.net/fonts/ title=Fonts><span>Fonts</span></a></li><li><a href=https://eric.swiftzer.net/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://eric.swiftzer.net/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://eric.swiftzer.net/about/ title=About><span>About</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://eric.swiftzer.net/>首頁</a>&nbsp;»&nbsp;<a href=https://eric.swiftzer.net/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Android pseudolocale</h1><div class=post-meta><span title='2023-07-14 23:40:00 +0800 +0800'>July 14, 2023</span></div></header><div class=post-content><p>在處理 app UI 多國語言時，我們不時要留意是不是預留了足夠空間來顯示文字。一般而言，中文內容通常都比其他語言短，你的 UI 可能看起來沒有問題，但換到其他寫得比較長的語言就可能不夠位顯示。但在開發初期可能還未開始翻譯，只有英文版，未必能在早期察覺這個問題。</p><p>Android SDK 其實有一個功能叫 pseudolocale，字面意思是假的地區設定。Android emulator 內置支援兩款 pseudolocale：<code>en-XA</code> 和 <code>ar-XB</code>，分別對應左至右和右至左語系。兩款 pseudolocale 都是用你的 app 的預設 string resource 加工而成。</p><p>XA 就是把預設的 string resource 的英文字母換成有變音符號的字母再在最尾加上 <code>one two three</code> 之類的文字去加長整段字，作用是為了模擬 app UI 在較長的左至右語言的情況，看看會不會塞爆 UI；而 XB 就是把預設的 string resource 的英文字母反轉次序，同時亦會令界面變成右至左模式，這樣就可以模擬 app UI 在右至左語言的情況。由於兩個 pseudolocale 都是由預設的 string resource 衍生出來（理論是預設是用來放英文），所以加工後你都應該能看得懂，不會因為切換了 pseudolocale 而不懂得操作自己的 app。</p><p>要啟用 pseudolocale，首先要在 project 的 <em>build.gradle.kts</em> 加入 <code>resourceConfigurations</code> 和在 build type 加入 <code>isPseudoLocalesEnabled = true</code>。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-kotlin data-lang=kotlin><span class=line><span class=cl><span class=n>android</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>defaultConfig</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>applicationId</span> <span class=p>=</span> <span class=s2>&#34;net.swiftzer.metroride&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>versionCode</span> <span class=p>=</span> <span class=m>37</span>
</span></span><span class=line><span class=cl>        <span class=n>versionName</span> <span class=p>=</span> <span class=s2>&#34;0.37.0&#34;</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 限制 resource 的 locale 並加入 pseudolocale
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>resourceConfigurations</span><span class=p>.</span><span class=n>addAll</span><span class=p>(</span><span class=n>listOf</span><span class=p>(</span><span class=s2>&#34;en&#34;</span><span class=p>,</span> <span class=s2>&#34;zh-rHK&#34;</span><span class=p>,</span> <span class=s2>&#34;en-rXA&#34;</span><span class=p>,</span> <span class=s2>&#34;ar-rXB&#34;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=n>buildTypes</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>getByName</span><span class=p>(</span><span class=s2>&#34;debug&#34;</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=n>isDefault</span> <span class=p>=</span> <span class=k>true</span>
</span></span><span class=line><span class=cl>            <span class=n>isDebuggable</span> <span class=p>=</span> <span class=k>true</span>
</span></span><span class=line><span class=cl>            <span class=c1>// 啟用 pseudolocale
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=n>isPseudoLocalesEnabled</span> <span class=p>=</span> <span class=k>true</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>上面的 code 除了加了 <code>en-rXA</code> 和 <code>ar-rXB</code> 外，還加了 <code>en</code> 和 <code>zh-rHK</code>。這是因為我的 app 只是準備了預設（英文）和香港中文。如果沒有加 <code>resourceConfigurations</code> 的話，你的 app 通常都會被加了一大堆不同語言的 resource 檔案（例如文字和圖片）。這是因為 appcompat 和其他 Android library 都會附帶了不同語言的 resource 檔案。如果你的 app 本身只支援數種語言，大可把其餘不支援的語言 resource 檔案在 build app 時清走，這樣就可以減少最終 app 的大小，而且如果你打算在 runtime 強行改變 app 語言的話這個設定是跑不掉的。</p><figure><img loading=lazy src=apk-resources.png><figcaption>加了 resourceConfigurations 限制後只剩下 default 和 zh-rHK</figcaption></figure><p>加了之後就轉去 emulator 設定。首先要啟用 Developer options，就是連按七次 Build number，直至看到「You are now a developer!」的 toast。<strong>啟用後要將 emulator 重新開機。</strong></p><p>之後就可以在平時設定系統語言的地方看到 XA 和 XB 的語言。把它們調到最前，然後 build app 並開啟 app 就能看到以 pseudolocale 形式顯示的 UI。這樣就可以開始逐頁檢查排版有沒有問題。</p><figure><img loading=lazy src=settings.png><figcaption>Android 設定內的語言設定頁</figcaption></figure><figure><img loading=lazy src=xa.png><figcaption>在 XA 的情況</figcaption></figure><figure><img loading=lazy src=xb.png><figcaption>在 XB 的情況</figcaption></figure><p>當然，如果你的 app 本身有強行改 app locale 的話應該不能馬上就可以顯示到 pseudolocale，你可以參考下面的 code 來檢查當前系統 locale 來決定如果設定 app locale：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-kotlin data-lang=kotlin><span class=line><span class=cl><span class=k>val</span> <span class=py>systemLocale</span> <span class=p>=</span> <span class=n>ConfigurationCompat</span>
</span></span><span class=line><span class=cl>    <span class=p>.</span><span class=n>getLocales</span><span class=p>(</span><span class=nc>Resources</span><span class=p>.</span><span class=n>getSystem</span><span class=p>().</span><span class=n>configuration</span><span class=p>)[</span><span class=m>0</span><span class=p>]</span><span class=o>!!</span>
</span></span><span class=line><span class=cl><span class=k>when</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>systemLocale</span><span class=p>.</span><span class=n>language</span> <span class=o>==</span> <span class=s2>&#34;en&#34;</span> <span class=o>&amp;&amp;</span> <span class=n>systemLocale</span><span class=p>.</span><span class=n>country</span> <span class=o>==</span> <span class=s2>&#34;XA&#34;</span> <span class=o>-&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 這是 XA pseudolocale
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=n>systemLocale</span><span class=p>.</span><span class=n>language</span> <span class=o>==</span> <span class=s2>&#34;ar&#34;</span> <span class=o>&amp;&amp;</span> <span class=n>systemLocale</span><span class=p>.</span><span class=n>country</span> <span class=o>==</span> <span class=s2>&#34;XB&#34;</span> <span class=o>-&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 這是 XB pseudolocale
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>試完後，緊記在 release build 拿走 pseudolocale，否則上載到 Google Play Console 會覺得你的 app 會支援阿拉伯文。（除非你的 app 本身真的是支援阿拉伯文）</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-kotlin data-lang=kotlin><span class=line><span class=cl><span class=n>android</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>buildTypes</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>getByName</span><span class=p>(</span><span class=s2>&#34;release&#34;</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=n>isPseudoLocalesEnabled</span> <span class=p>=</span> <span class=k>false</span>
</span></span><span class=line><span class=cl>            <span class=n>defaultConfig</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=n>resourceConfigurations</span><span class=p>.</span><span class=n>removeAll</span><span class=p>(</span><span class=n>setOf</span><span class=p>(</span><span class=s2>&#34;en-rXA&#34;</span><span class=p>,</span> <span class=s2>&#34;ar-rXB&#34;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h2 id=不應改變的-string-resource>不應改變的 string resource<a hidden class=anchor aria-hidden=true href=#不應改變的-string-resource>#</a></h2><p>由於 pseudolocale 會改變你的 string resource 內容，如果某些 string resource 被改動的話會導致 app crash，令你不能看到 UI。這種情況通常會在日期時間格式出現。要避免因為開了 pseudolocale 而令到 app crash，可以在相關的 string resource 加入 <code>translatable="false"</code>，這樣在開了 pseudolocale 後這些 string resource 都不會被改變。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;string</span> <span class=na>name=</span><span class=s>&#34;mtr_alert_timestamp_format_12hr&#34;</span> <span class=na>translatable=</span><span class=s>&#34;false&#34;</span><span class=nt>&gt;</span>E, dd MMM h:mm a (zzz)<span class=nt>&lt;/string&gt;</span>
</span></span></code></pre></div><p>在 Android Studio 會警告你翻譯了不應翻譯的 string resource，但不影響 build app。</p><h2 id=參考>參考<a hidden class=anchor aria-hidden=true href=#參考>#</a></h2><ul><li><a href=https://developer.android.com/guide/topics/resources/pseudolocales>Test your app with pseudolocales</a></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://eric.swiftzer.net/tags/android/>Android</a></li></ul><nav class=paginav><a class=prev href=https://eric.swiftzer.net/2024/02/android-14-migration/><span class=title>« 上一頁</span><br><span>Android 14 migration</span>
</a><a class=next href=https://eric.swiftzer.net/2023/01/android-13-per-app-language-preferences/><span class=title>下一頁 »</span><br><span>Android 13 Per-app Language Preferences</span></a></nav></footer><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//efilm.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></article></main><footer class=footer><span>&copy; 2024 <a href=https://eric.swiftzer.net/>EricLog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="複製";function s(){t.innerHTML="已複製！",setTimeout(()=>{t.innerHTML="複製"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>